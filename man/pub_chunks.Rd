% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/chunks.R
\name{pub_chunks}
\alias{pub_chunks}
\title{Extract chunks of data from articles}
\usage{
pub_chunks(x, from, what = "all")
}
\arguments{
\item{x}{An object of class \code{fulltext::ft_data}, the output from a call to
\code{\link[fulltext:ft_get]{fulltext::ft_get()}}}

\item{what}{What to get, can be one or more in a vector or list.
See Details.}
}
\value{
A list of output, one for each thing requested
}
\description{
\code{pub_chunks} makes it easy to extract sections of an article.
You can extract just authors across all articles, or all references
sections, or the complete text of each article. Then you can pass the
output downstream for visualization and analysis.
}
\details{
Options for the \code{what} parameter:
\itemize{
\item front - Publisher, journal and article metadata elements
\item body - Body of the article
\item back - Back of the article, acknowledgments, author contributions,
references
\item title - Article title
\item doi - Article DOI
\item categories - Publisher's categories, if any
\item authors - Authors
\item keywords - Keywords
\item abstract - Article abstract
\item executive_summary - Article executive summary
\item refs - References
\item refs_dois - References DOIs - if available
\item publisher - Publisher name
\item journal_meta - Journal metadata
\item article_meta - Article metadata
\item acknowledgments - Acknowledgments
\item permissions - Article permissions
\item history - Dates, recieved, published, accepted, etc.
}

Note that we currently only support PLOS, eLife, Entrez, and Elsevier
right now; more to come.
}
\examples{
\dontrun{
# new stuff
x <- system.file("examples/10_1016_s1569_1993_15_30039_4.xml", package = "pubchunks")
pub_chunks(x, "elsevier", "abstract")
cat(pub_chunks(x, "elsevier", "abstract")[[1]])
pub_chunks(x, "elsevier", "title")


x <- ft_get('10.1371/journal.pone.0086169', from='plos')
pub_chunks(x, what="authors")

library("rplos")
(dois <- searchplos(q="*:*", fl='id',
   fq=list('doc_type:full',"article_type:\\"research article\\""),
     limit=5)$data$id)
x <- ft_get(dois, from="plos")
x \%>\% pub_chunks("front")
x \%>\% pub_chunks("body")
x \%>\% pub_chunks("back")
x \%>\% pub_chunks("history")
x \%>\% pub_chunks(c("doi","history")) \%>\% ft_tabularize()
x \%>\% pub_chunks("authors")
x \%>\% pub_chunks(c("doi","categories"))
x \%>\% pub_chunks("all")
x \%>\% pub_chunks("publisher")
x \%>\% pub_chunks("acknowledgments")
x \%>\% pub_chunks("permissions")
x \%>\% pub_chunks("journal_meta")
x \%>\% pub_chunks("article_meta")

# Coerce list output to a data.frame, where possible
(dois <- searchplos(q="*:*", fl='id',
   fq=list('doc_type:full',"article_type:\\"research article\\""),
     limit=5)$data$id)
x <- ft_get(dois, from="plos")
x \%>\% pub_chunks("publisher") \%>\% ft_tabularize()
x \%>\% pub_chunks("refs") \%>\% ft_tabularize()
x \%>\% pub_chunks(c("doi","publisher")) \%>\% ft_tabularize()
x \%>\% pub_chunks(c("doi","publisher","permissions")) \%>\% ft_tabularize()

x <- ft_get(c("10.3389/fnagi.2014.00130",'10.1155/2014/249309',
  '10.1155/2014/162024'), from='entrez')
x \%>\% pub_chunks("doi") \%>\% ft_tabularize()
x \%>\% pub_chunks("authors") \%>\% ft_tabularize()
x \%>\% pub_chunks(c("doi","publisher","permissions")) \%>\% ft_tabularize()
x \%>\% pub_chunks("history") \%>\% ft_tabularize()

x <- ft_get('10.3389/fnagi.2014.00130', from='entrez')
x \%>\% pub_chunks("keywords")

# Piping workflow
opts <- list(fq=list('doc_type:full',"article_type:\\"research article\\""))
ft_search(query='ecology', from='plos', plosopts = opts)$plos$data$id \%>\%
 ft_get(from = "plos") \%>\%
 pub_chunks("publisher")

# Via entrez
res <- ft_get(c("10.3389/fnagi.2014.00130",'10.1155/2014/249309',
   '10.1155/2014/162024'), from='entrez')
pub_chunks(res, what="abstract")
pub_chunks(res, what="title")
pub_chunks(res, what="keywords")
pub_chunks(res, what="publisher")

(res <- ft_search(query='ecology', from='entrez'))
ft_get(res$entrez$data$doi, from='entrez') \%>\% pub_chunks("title")
ft_get(res$entrez$data$doi[1:4], from='entrez') \%>\%
  pub_chunks("acknowledgments")
ft_get(res$entrez$data$doi[1:4], from='entrez') \%>\%
  pub_chunks(c('title','keywords'))

# From eLife
x <- ft_get(c('10.7554/eLife.04251', '10.7554/eLife.04986'), from='elife')
x \%>\% pub_chunks("abstract")
x \%>\% pub_chunks("publisher")
x \%>\% pub_chunks("journal_meta")
x \%>\% pub_chunks("acknowledgments")
x \%>\% pub_chunks("refs_dois")
x \%>\% pub_chunks(c("abstract", "executive_summary"))
}
}
